(function(a){var b,c;c=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_option=function(a){"OPTION"===a.nodeName.toUpperCase()&&(""!==a.text?this.parsed.push({value:a.value,text:a.text,selected:a.selected,disabled:a.disabled,classes:a.className,style:a.style.cssText}):this.parsed.push({empty:!0}))},a}(),c.select_to_array=function(a){var b,d,e,f,g;for(d=new c,g=a.childNodes,e=0,f=g.length;f>e;e++)b=g[e],d.add_option(b);return d.parsed},b=function(){function b(a,b){this.form_field=a,this.options=null!=b?b:{},this.is_multiple=this.form_field.multiple,this.selected=[],this.setup_preselected_value(),this.set_sortable_options(),this.set_rendering_templates(),this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers()}return b.prototype.setup_preselected_value=function(){var a,b,d=0;if(this.value=this.form_field.getAttribute("data-value"),this.value=this.value?this.value.split(","):[],!this.value.length)for(a=c.select_to_array(this.form_field),b=a.length;b>d;d++)a[d].selected&&this.value.push(a[d].value)},b.prototype.set_sortable_options=function(){this.is_sortable=this.form_field.getAttribute("data-sortable"),this.is_sortable=this.is_sortable&&"true"===this.is_sortable},b.prototype.set_rendering_templates=function(){var b,c=this.form_field.getAttribute("data-result-template");this.result_template="{{text}}",this.selected_template="{{text}}",c&&(b=a("#"+c),b.length&&(this.result_template=b.html())),c=this.form_field.getAttribute("data-selected-template"),c&&(b=a("#"+c),b.length&&(this.selected_template=b.html()))},b.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=this.options.allow_single_deselect||!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},b.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||b.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||b.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||b.default_no_result_text},b.prototype.mouse_enter=function(){return this.mouse_on_container=!0},b.prototype.mouse_leave=function(){return this.mouse_on_container=!1},b.prototype.input_focus=function(a){var b=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return b.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},b.prototype.input_blur=function(a){var b=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return b.blur_test()},100))},b.prototype.result_add_option=function(b){var c,d;return b=a.extend({},{disabled:!1,classes:"",style:{cssText:""},text:"",value:""},b),this.include_option_in_results(b)?(c=[],b.selected=this.is_option_selected(b),b.disabled||b.selected&&this.is_multiple||c.push("active-result"),!b.disabled||b.selected&&this.is_multiple||c.push("disabled-result"),b.selected&&c.push("result-selected"),""!==b.classes&&c.push(b.classes),d=""!==b.style.cssText?' style="'+b.style+'"':"",'<li class="'+c.join(" ")+'"'+d+">"+Mustache.render(this.result_template,b)+"</li>"):""},b.prototype.results_update_field=function(){this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build(function(){return this.results_showing?this.winnow_results():void 0})},b.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},b.prototype.results_search=function(a){return this.results_showing?this.winnow_results():this.results_show()},b.prototype.winnow_results=function(){var a=this,b=a.get_search_text();a.search_engine.get(b,function(c){var d=b!=a.get_search_text();return d?void 0:c.length<1&&b.length?(a.clear_suggestions(),a.no_results(b)):(a.render_suggestions(c),a.winnow_results_set_highlight())})},b.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.form_field.options,b=0,c=d.length;c>b;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},b.prototype.choices_click=function(a){return a.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},b.prototype.keyup_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},b.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},b.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected?!1:!this.display_disabled_options&&a.disabled?!1:a.empty?!1:!0},b.prototype.setup_search_engine=function(){var a,b=this;for(isNaN(this.prefetch_ttl)&&(this.prefetch_ttl=0),this.local_options=c.select_to_array(this.form_field),a=this.local_options.length-1;a>=0;a--)this.local_options[a].empty&&this.local_options.splice(a,1);this.search_engine=new Bloodhound({local:this.local_options,prefetch:this.prefetch_url=this.form_field.getAttribute("data-prefetch-url"),remote:this.remote_url=this.form_field.getAttribute("data-remote-url"),datumTokenizer:function(a){return Bloodhound.tokenizers.whitespace(a.text)},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:100,dupDetector:function(a,b){return a.value==b.value}}),this.search_engine.initialize().done(function(){b.isSearchable()?b.results_build(function(){b.set_selected_order(),b.set_tab_index(),b.set_label_behavior(),b.form_field_jq.trigger("chosen:ready",{chosen:b})}):b.form_field_jq.trigger("chosen:ready",{chosen:b})})},b.prototype.get_option_by_value=function(a){for(var b=0,c=this.select_options||[],d=c.length;d>b;b++)if(c[b].value===a)return c[b]},b.prototype.fetch_items_by_value=function(b,c){a.ajax(this.remote_url.replace("%QUERY",""),{data:{values:b},cache:!1,method:"post",success:c,async:!1})},b.prototype.is_option_selected=function(a){var b,c=this.hidden_field.val(),d=0;for(c=c.length?c.split(","):[],b=c.length;b>d;d++)if(c[d]==a.value)return!0;return!1},b.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},b.prototype.set_up_html=function(){var b,c,d=this,e=this.isSearchable();b=["chosen-container"],b.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className),this.is_rtl&&b.push("chosen-rtl"),c={"class":b.join(" "),title:this.form_field.title},this.form_field.id.length&&(c.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",c),e?this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div class="chosen-action-icon"><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'):this.is_multiple?this.container.html('<ul class="chosen-choices"></ul>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+"</span></a>"),this.container.append('<input type="hidden" class="chosen-hidden-field" />'),this.hidden_field=this.container.find("input.chosen-hidden-field").first(),this.hidden_field.attr("name",this.form_field_jq.attr("name")),this.hidden_field.data("uberSelect",this),this.form_field_jq.removeAttr("name"),this.form_field_jq.hide().after(this.container),e&&(this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?this.search_container=this.container.find("li.search-field").first():this.search_container=this.container.find("div.chosen-search").first()),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.form_field_jq.on("change",function(){d.set_selected_order()}),this.is_sortable&&this.search_choices.sortable({items:".search-choice",update:function(){d.form_field_jq.trigger("change")}})):this.selected_item=this.container.find(".chosen-single").first(),this.setup_search_engine()},b.prototype.register_observers=function(){var a=this;return this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)}),this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)}),this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)}),this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)}),this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)}),this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)}),this.isSearchable()&&(this.search_field.bind("blur.chosen",function(b){a.input_blur(b)}),this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)}),this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)}),this.search_field.bind("focus.chosen",function(b){a.input_focus(b)}),this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)}),this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)}),this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)}),this.is_multiple)?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.is_multiple?void 0:this.container.bind("click.chosen",function(a){a.preventDefault()})},b.prototype.destroy=function(){return a(document).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("uberSelect"),this.form_field_jq.attr("name",this.hidden_field.attr("name")),this.hidden_field.remove(),this.form_field_jq.show()},b.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},b.prototype.container_mousedown=function(b){return this.is_disabled||(b&&"mousedown"===b.type&&!this.results_showing&&b.preventDefault(),!this.isSearchable()||null!=b&&a(b.target).hasClass("remove-choice-link"))?void 0:(this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chosen-single").length||(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(document).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},b.prototype.container_mouseup=function(a){return this.isSearchable()&&"ABBR"===a.target.nodeName&&!this.is_disabled?this.results_reset(a):void 0},b.prototype.search_results_mousewheel=function(a){var b,c,d;return b=-(null!=(c=a.originalEvent)?c.wheelDelta:void 0)||(null!=(d=a.originialEvent)?d.detail:void 0),null!=b?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b=40*b),this.search_results.scrollTop(b+this.search_results.scrollTop())):void 0},b.prototype.blur_test=function(a){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},b.prototype.close_field=function(){return a(document).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},b.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},b.prototype.test_active_click=function(b){return this.container.is(a(b.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()},b.prototype.results_build=function(a){var b,c=this;b=function(b){c.parsing=!0,c.selected_option_count=null,c.select_options=b,c.is_multiple?c.search_choices.find("li.search-choice").remove():(c.single_set_selected_text(),c.disable_search||c.disable_search_threshold&&c.form_field.options.length<=c.disable_search_threshold?(c.search_field[0].readOnly=!0,c.container.addClass("chosen-container-single-nosearch")):(c.search_field[0].readOnly=!1,c.container.removeClass("chosen-container-single-nosearch"))),c.populate_preselections(),c.render_suggestions(c.select_options),c.search_field_disabled(),c.show_search_field_default(),c.search_field_scale(),c.parsing=!1,a.call(c)},this.local_options.length||this.prefetch_url&&this.prefetch_url.length?c.search_engine.get("",b):b([])},b.prototype.populate_preselections=function(){var a,b,c,d=this,e=d.value,f=0,g=e.length,h=[];for(b=function(a){d.is_multiple?(d.choice_build(a),d.hidden_field.val(d.hidden_field.val()+","+a.value)):(d.single_set_selected_text(Mustache.render(d.selected_template,a)),d.hidden_field.val(a.value))},c=function(a){for(var b=0,c=e.length;c>b;b++)if(a==e[b])return!0;return!1};g>f&&(a=d.get_option_by_value(e[f]),"undefined"!=typeof a);f++)h.push(a);if(h.length!=e.length&&d.remote_url&&d.remote_url.length)d.fetch_items_by_value(d.value.join(","),function(a){var d=0;for(g=a.length;g>d;d++)c(a[d].value)&&b(a[d])});else for(f=0;f<h.length;f++)b(h[f])},b.prototype.render_suggestions=function(b){var c,d=0,e=b.length;for(this.clear_suggestions();e>d;d++)c=a(this.result_add_option(b[d])),c.data("item",b[d]),this.search_results.append(c)},b.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight(),b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(f>c)return this.search_results.scrollTop(c)}},b.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},b.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{uberSelect:this}),!1):(this.container.addClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:showing_dropdown",{uberSelect:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},b.prototype.clear_suggestions=function(){this.search_results.html("")},b.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{uberSelect:this})),this.results_showing=!1},b.prototype.set_tab_index=function(a){var b;return this.form_field.tabIndex?(b=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=b):void 0},b.prototype.set_label_behavior=function(){var b=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(a){return b.is_multiple?b.container_mousedown(a):b.activate_field()}):void 0},b.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},b.prototype.search_results_mouseup=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c.length?(this.result_highlight=c,this.result_select(b),this.search_field.focus()):void 0},b.prototype.search_results_mouseover=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c?this.result_do_highlight(c):void 0},b.prototype.search_results_mouseout=function(b){return a(b.target).hasClass("active-result")?this.result_clear_highlight():void 0},b.prototype.choice_build=function(b){var c,d,e=this;return c=a("<li />",{"class":"search-choice"}).html("<span>"+Mustache.render(this.selected_template,b)+"</span>"),b.disabled?c.addClass("search-choice-disabled"):(d=a("<a />",{"class":"remove-choice-link fa fa-times"}),d.bind("click.chosen",function(a){return e.choice_destroy_link_click(a)}),c.append(d)),c.data("item",b),this.isSearchable()?this.search_container.before(c):this.search_choices.append(c)},b.prototype.choice_destroy_link_click=function(b){return b.preventDefault(),b.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(a(b.target))},b.prototype.choice_destroy=function(a){var b=a.closest("li.search-choice"),c=b.data("item");return this.result_deselect(c)&&(b.remove(),this.form_field_jq.trigger("change",{deselected:c.value}),this.isSearchable())?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),c.selected=!1,this.winnow_results(),this.search_field_scale()):void 0},b.prototype.results_reset=function(){return this.hidden_field.val(""),this.selected=[],this.selected_option_count=null,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},b.prototype.results_reset_cleanup=function(){return this.selected_item.find("abbr").remove()},b.prototype.result_select=function(a){var b,c;return this.result_highlight?(b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{userSelect:this}),!1):(this.is_multiple?b.removeClass("active-result"):(this.result_single_selected&&this.result_single_selected.removeClass("result-selected"),this.result_single_selected=b),b.addClass("result-selected"),c=b.data("item"),this.selected_option_count=null,this.select_item(c),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),this.form_field_jq.trigger("change",{selected:this.hidden_field.val()}),this.search_field_scale())):void 0},b.prototype.select=function(a,b){var c,d;this.is_option_selected({value:a})||(c=this.get_option_by_value(a),d=this,c?d.select_item(c):d.remote_url&&d.remote_url.length?d.fetch_items_by_value(a,function(a){var b=0;for(_len=a.length;b<_len;b++)d.select_item(a[b])}):b&&b.length&&d.select_item({text:b,value:a}))},b.prototype.select_item=function(a){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{userSelect:this}),!1):(this.is_multiple?(this.choice_build(a),this.hidden_field.val(this.hidden_field.val()+","+a.value)):(this.selected=[],this.single_set_selected_text(Mustache.render(this.selected_template,a)),this.hidden_field.val(a.value)),void this.selected.push(a))},b.prototype.single_set_selected_text=function(a){return null==a&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(a)},b.prototype.result_deselect=function(a){var b,c;if(this.is_multiple){for(b=this.hidden_field.val(),b.length&&(b=b.split(","),c=b.indexOf(a.value),-1!==c&&b.splice(c,1),this.hidden_field.val(b.join(","))),c=0;c<this.selected.length;c++)if(this.selected[c].value==a.value){this.selected.splice(c,1);break}}else this.hidden_field.val(""),this.selected=[];return this.result_clear_highlight(),this.selected_option_count=null,!0},b.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="remove-choice-link fa fa-times"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},b.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html()},b.prototype.winnow_results_set_highlight=function(){var a,b;return b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first(),null!=a?this.result_do_highlight(a):void 0},b.prototype.no_results=function(b){var c;return c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),c.find("span").first().html(b),this.search_results.append(c)},b.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},b.prototype.keydown_arrow=function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},b.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},b.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},b.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},b.prototype.keydown_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},b.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){for(d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],i=0,j=g.length;j>i;i++)e=g[i],f+=e+":"+this.search_field.css(e)+";";return b=a("<div />",{style:f}),b.text(this.search_field.val()),a("body").append(b),h=b.width()+25,b.remove(),this.container.is(":visible")&&(c=this.container.outerWidth(),h>c-10&&(h=c-10)),this.search_field.css({width:h+"px"})}},b.prototype.set_selected_order=function(){var b=[],c=this;c.is_multiple&&(c.search_choices.find("li.search-choice").each(function(){var c=a(this),d=c.data("item");b.push(d.value)}),c.hidden_field.val(b.length?b.join(","):""))},b.prototype.getSelected=function(){return this.selected},b.prototype.isSearchable=function(){return"undefined"==typeof this.options.searchable||this.options.searchable},b.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},b.default_multiple_text="Select Some Options",b.default_single_text="Select an Option",b.default_no_result_text="No results match",b}(),a.fn.extend({uberSelect:function(c){return b.browser_is_supported()?this.each(function(d){var e,f;e=a(this),f=e.data("uberSelect"),"destroy"===c&&f?(f.destroy(),e.removeData("uberSelect")):f||e.data("uberSelect",new b(this,c))}):this}})}).call(this,presideJQuery);var i18n=function(){var a,b="undefined"==typeof _resourceBundle?{}:_resourceBundle;return a=function(a,c){var d,e,f=(c||{}).defaultValue||a,g=b[a]||f;if(g.length&&(c||{}).data)for(d=0;d<c.data.length;d++)e=new RegExp("\\{"+(d+1)+"\\}","g"),g=g.replace(e,c.data[d]);return g},{translateResource:a}}();PresideRichEditor=function(a){function b(a){this.init(a)}return b.prototype.init=function(b){var c=a(b),d={},e=c.data("toolbar")||cfrequest.ckeditorDefaultToolbar,f=c.data("width")||cfrequest.ckeditorDefaultWidth,g=c.data("minHeight")||cfrequest.ckeditorDefaultMinHeight,h=c.data("maxHeight")||cfrequest.ckeditorDefaultMaxHeight,i=c.data("customConfig")||cfrequest.ckeditorConfig,j=c.data("stylesheets");e&&e.length&&(d.toolbar=this.parseToolbarConfig(e)),j&&j.length&&(d.contentsCss=j.split(",")),i&&(d.customConfig=i),f&&(d.width=f),g&&(d.autoGrow_minHeight=isNaN(parseInt(g))?0:parseInt(g)),h&&(d.autoGrow_maxHeight=isNaN(parseInt(h))?0:parseInt(h)),this.editor=CKEDITOR.replace(b,d),c.data("ckeditorinstance",this.editor)},b.prototype.parseToolbarConfig=function(b){var c,d,e,f,g=b.split("|"),h=g.length,i=[];if(null===b.match(/[\,\|]/g))return b;for(e=0;h>e;e++)if(a.trim(g[e]).length&&"/"!==g[e]){for(c=g[e].split(","),d={name:e,items:[]},f=0;f<c.length;f++)d.items.push(c[f]);i.push(d)}else i.push("/");return i},b}(presideJQuery),function(a){a.fn.presideBootboxModal=function(b){return this.each(function(){var c,d,e,f,g=a(this);d=function(a){var b=g.data("bootboxModalConfig");a.preventDefault(),"undefined"==typeof b?f(function(a){c(a)}):c(b)},c=function(c){var d=presideBootbox.dialog(c);g.data("modal",d),"object"==typeof b&&"function"==typeof b.onShow&&d.on("shown.bs.modal",function(){d.off("shown.bs.modal"),b.onShow(d),a(".modal-backdrop").addClass("presidecms")}),d.modal("show")},f=function(c){var d,f,h,i=(g.data("buttons")||"ok cancel").split(" ");h=function(h){if(d=a.extend({title:g.data("title")||g.attr("title"),message:h,className:g.data("modalClass"),buttons:{},show:!1},b),a.isEmptyObject(d.buttons))for(f=0;f<i.length;f++)"cancel"===i[f]?d.buttons.cancel={label:'<i class="fa fa-reply"></i> '+i18n.translateResource("cms:cancel.btn"),className:"btn-default",callback:function(){return e(g,"cancel")}}:"ok"===i[f]&&(d.buttons.ok={label:'<i class="fa fa-check"></i> '+i18n.translateResource("cms:ok.btn"),className:"btn-primary",callback:function(){return e(g,"ok")}});g.data("bootboxModalConfig",d),c(d)},g.get(0).hash.length?h(a(g.get(0).hash).html()):a.ajax({method:"GET",url:g.attr("href"),cache:!1,success:function(a){h(a)}})},e=function(a,b){return a.triggerHandler("bootboxModal"+b)},g.on("click",d),g.data("presideBootboxModal",!0)})},a("body").on("click",'[data-toggle="bootbox-modal"]',function(b){b.preventDefault();var c=a(this);c.data("presideBootboxModal")||c.presideBootboxModal({}).click()})}(presideJQuery),function(a){var b=function(){return"iframexxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})};window.PresideIframeModal=function(){function c(a,b,c,d,e){this.callbacks=d,this.iframeUrl=a,this.width=b,this.height=c,this.modalOptions=e}return c.prototype.setupIframe=function(){var c=this.iframeId=b(),d="cb"+c,e=this.callbacks,f=this;this.$iframeContainer=a('<div style="display:none;"><iframe id="'+c+'" src="'+this.iframeUrl+'" width="'+this.width+'" height="'+this.height+'" frameBorder="0" onload="'+d+'( this.contentWindow )"></iframe></div>'),this.registerOnLoadCallback(d,function(a){a.parentPresideBootbox=f.getBootbox(),"undefined"!=typeof e.onLoad&&e.onLoad(a)})},c.prototype.registerOnLoadCallback=function(a,b){var c="undefined"==typeof parentPresideBootbox?window:window.parent||window;c[a]=b},c.prototype.setupModalOptions=function(){var b,c=this.modalOptions.buttonList||[],d=this;if(this.modalOptions.show=!1,this.modalOptions.message=this.$iframeContainer.html(),this.modalOptions.buttons=this.modalOptions.buttons||{},a.isEmptyObject(this.modalOptions.buttons))for(b=0;b<c.length;b++)"cancel"===c[b]?this.modalOptions.buttons.cancel={label:'<i class="fa fa-reply"></i> '+i18n.translateResource("cms:cancel.btn"),className:"btn-default",callback:function(){return d.btnCallBack("cancel")}}:"ok"===c[b]&&(this.modalOptions.buttons.ok={label:'<i class="fa fa-check"></i> '+i18n.translateResource("cms:ok.btn"),className:"btn-primary",callback:function(){return d.btnCallBack("ok")}})},c.prototype.btnCallBack=function(a){return"undefined"!=typeof this.callbacks["on"+a]?this.callbacks["on"+a]():void 0},c.prototype.open=function(){this.setupIframe(),this.setupModalOptions();var a=this.getBootbox(),b=this.modal=a.dialog(this.modalOptions),c=this.callbacks,d=this.getIframe;"function"==typeof c.onShow&&b.on("shown.bs.modal",function(){b.off("shown.bs.modal"),c.onShow(b,d())}),b.modal("show")},c.prototype.close=function(){var a=this.modal;a.on("hidden.bs.modal",function(b){a.remove()}),a.modal("hide")},c.prototype.getIframe=function(){var b=a("#"+this.iframeId);return b.length?b.get(0).contentWindow:void 0},c.prototype.getModal=function(){return this.modal},c.prototype.getBootbox=function(){return"undefined"==typeof parentPresideBootbox?presideBootbox:parentPresideBootbox},c}()}(presideJQuery),function(a){var b=function(){function b(a){this.$originalInput=a,this.setupUberSelect(),this.setupUploader(),this.setupBrowser()}return b.prototype.setupUberSelect=function(){this.$originalInput.uberSelect({allow_single_deselect:!0,
inherit_select_classes:!0}),this.$uberSelect=this.$originalInput.next(),this.uberSelect=this.$originalInput.data("uberSelect")},b.prototype.setupBrowser=function(){var b=this.$originalInput.data("browserUrl"),c=this.$originalInput.data("modalTitle"),d=this,e={title:c,className:"full-screen-dialog",buttonList:["ok","cancel"]},f={onLoad:function(a){d.pickerIframe=a},onok:function(){return d.processBrowserOk()}};this.browserIframeModal=new PresideIframeModal(b,"100%","100%",f,e),this.$browserButton=a('<a class="btn btn-default" href="#"><i class="fa fa-ellipsis-h"></i></a>'),this.$uberSelect.after(this.$browserButton),this.$browserButton.on("click",function(a){a.preventDefault(),d.browserIframeModal.open()})},b.prototype.setupUploader=function(){var b=this.$originalInput.data("uploaderUrl"),c=this.$originalInput.data("uploaderModalTitle"),d=this,e={title:c,className:"full-screen-dialog",buttons:{cancel:{label:'<i class="fa fa-reply"></i> '+i18n.translateResource("cms:cancel.btn"),className:"btn-default"},next:{label:'<i class="fa fa-arrow-circle-o-right"></i> '+i18n.translateResource("cms:next.btn"),className:"btn-primary",callback:function(){return d.processUploadNextButton()}}}},f={onLoad:function(a){a.uberAssetSelect=d,d.uploadIframe=a,"undefined"!=typeof a.assetUploader&&a.assetUploader.checkLastStep()}};this.uploadIframeModal=new PresideIframeModal(b,"100%","100%",f,e),this.$uploaderButton=a('<a class="btn btn-default upload-btn" href="#"><i class="fa fa-cloud-upload"></i></a>'),this.$uploaderButton.on("click",function(a){a.preventDefault(),d.uploadIframeModal.open()}),this.$uberSelect.after(this.$uploaderButton)},b.prototype.processBrowserOk=function(){var a=this.getPickerIframe();if("undefined"!=typeof a)for(var b=a.getSelected(),c=0,d=b.length;d>c;c++)this.uberSelect.select(b[c]);return!0},b.prototype.processUploadNextButton=function(){var b=this.getUploadIframe();return"undefined"!=typeof b.assetUploader?(a(b).focus(),b.assetUploader.nextStep(),!1):!0},b.prototype.uploadStepsFinished=function(){for(var a=this.getUploadIframe(),b=a.assetUploader.getUploaded(),c=0,d=b.length;d>c;c++)this.uberSelect.select(b[c]);this.uploadIframeModal.close()},b.prototype.enteredLastStep=function(){var a=this.uploadIframeModal.getModal(),b=a.length&&a.find("button[data-bb-handler='next']");b.length&&b.html('<i class="fa fa-check"></i> '+i18n.translateResource("cms:done.btn"))},b.prototype.getPickerIframe=function(){return this.pickerIframe.assetBrowser},b.prototype.getUploadIframe=function(){return this.uploadIframe},b}();a.fn.uberAssetSelect=function(){return this.each(function(){new b(a(this))})}}(presideJQuery),function(a){var b=function(){function b(a){this.$originalInput=a,this.setupUberSelect(),this.$originalInput.hasClass("quick-add")&&this.setupQuickAdd(),this.$originalInput.hasClass("quick-edit")&&this.setupQuickEdit()}return b.prototype.setupUberSelect=function(){this.$originalInput.uberSelect({allow_single_deselect:!0,inherit_select_classes:!0,searchable:!this.$originalInput.hasClass("non-searchable")}),this.$uberSelect=this.$originalInput.next(),this.uberSelect=this.$originalInput.data("uberSelect")},b.prototype.setupQuickAdd=function(){var b=this.$originalInput.data("quickAddUrl"),c=this.$originalInput.data("quickAddModalTitle"),d=this,e={title:c,className:"full-screen-dialog",buttons:{cancel:{label:'<i class="fa fa-reply"></i> '+i18n.translateResource("cms:cancel.btn"),className:"btn-default"},add:{label:'<i class="fa fa-plus"></i> '+i18n.translateResource("cms:add.btn"),className:"btn-primary",callback:function(){return d.processAddRecord()}}}},f={onLoad:function(a){a.presideObjectPicker=d,d.quickAddIframe=a},onShow:function(a,b){return"undefined"!=typeof b&&"undefined"!=typeof b.quickAdd?(b.quickAdd.focusForm(),!1):void a.on("hidden.bs.modal",function(b){a.remove()})}};this.quickAddIframeModal=new PresideIframeModal(b,"100%","100%",f,e),this.$quickAddButton=a('<a class="btn btn-default quick-add-btn" href="#"><i class="fa fa-plus"></i></a>'),this.uberSelect.isSearchable()&&this.uberSelect.search_field.attr("tabindex")&&"-1"!=this.uberSelect.search_field.attr("tabindex")?this.$quickAddButton.attr("tabindex",this.uberSelect.search_field.attr("tabindex")):this.$originalInput.attr("tabindex")&&"-1"!=this.$originalInput.attr("tabindex")&&this.$quickAddButton.attr("tabindex",this.$originalInput.attr("tabindex")),this.$quickAddButton.on("click",function(a){d.quickAddIframeModal.open()}),this.$uberSelect.after(this.$quickAddButton)},b.prototype.setupQuickEdit=function(){var b=(this.$originalInput.data("quickEditUrl"),this.$originalInput.data("quickEditModalTitle")),c=this,d={title:b,className:"full-screen-dialog",buttons:{cancel:{label:'<i class="fa fa-reply"></i> '+i18n.translateResource("cms:cancel.btn"),className:"btn-default"},ok:{label:'<i class="fa fa-check"></i> '+i18n.translateResource("cms:ok.btn"),className:"btn-primary",callback:function(){return c.processEditRecord()}}}},e={onLoad:function(a){a.presideObjectPicker=c,c.quickEditIframe=a},onShow:function(a,b){return"undefined"!=typeof b&&"undefined"!=typeof b.quickEdit?(b.quickEdit.focusForm(),!1):void a.on("hidden.bs.modal",function(b){a.remove()})}};this.uberSelect.container.on("click",".quick-edit-link",function(b){b.preventDefault();var f=a(this),g=f.attr("href");c.quickEditIframeModal=new PresideIframeModal(g,"100%","100%",e,d),c.quickEditIframeModal.open()})},b.prototype.addRecordToControl=function(a){this.uberSelect.select(a)},b.prototype.closeQuickAddDialog=function(){this.quickAddIframeModal.close(),this.uberSelect.isSearchable()&&this.uberSelect.search_field.focus()},b.prototype.processAddRecord=function(){var a=this.getQuickAddIFrame();return"undefined"!=typeof a.quickAdd?(a.quickAdd.submitForm(),!1):!0},b.prototype.processEditRecord=function(){var a=this.getQuickEditIFrame();return"undefined"!=typeof a.quickEdit?(a.quickEdit.submitForm(),!1):!0},b.prototype.editSuccess=function(b){a.gritter.add({title:i18n.translateResource("cms:info.notification.title"),text:b,class_name:"gritter-success",sticky:!1}),this.closeQuickEditDialog()},b.prototype.closeQuickEditDialog=function(){this.quickEditIframeModal.close(),this.uberSelect.isSearchable()&&this.uberSelect.search_field.focus()},b.prototype.quickAddFinished=function(){this.quickAddIframeModal.close()},b.prototype.getQuickAddIFrame=function(){return this.quickAddIframe},b.prototype.getQuickEditIFrame=function(){return this.quickEditIframe},b}();a.fn.presideObjectPicker=function(){return this.each(function(){new b(a(this))})}}(presideJQuery),function(a){var b;b=function(){function b(a){c=this,c.$originalInput=a,c.setupHtml()}var c;return b.prototype.setupHtml=function(){var b=c.calculateDimensions(c.$originalInput.val());c.$html=a('<span class="image-dimensions-picker-wrapper">			                      <input type="number" class="image-dimensions-picker-input image-dimensions-picker-width"  value="'+b.width+'" title="'+i18n.translateResource("cms:width")+'" />			                      <i class="fa fa-unlock image-dimensions-picker-maintain-ratio"></i>			                      <input type="number" class="image-dimensions-picker-input image-dimensions-picker-height" value="'+b.height+'" title="'+i18n.translateResource("cms:height")+'" />			                   </span>'),c.$originalInput.attr("type","hidden"),c.$originalInput.after(c.$html),c.setupWidthAndHeightInputs(),c.setupAspectRatioToggler()},b.prototype.updateHiddenVal=function(){var a=parseInt(c.$width.val()),b=parseInt(c.$height.val());isNaN(a)||isNaN(b)?c.$originalInput.val(""):c.$originalInput.val(a+"x"+b)},b.prototype.calculateDimensions=function(a){var b=a.split("x"),d=b.length?b[0]:"",e=b.length>1?b[1]:"";return d=d.length?parseInt(d):"",e=e.length?parseInt(e):"",c.setAspectRatio(isNaN(d)||isNaN(e)?parseInt(""):d/e),{width:isNaN(d)?"":d,height:isNaN(e)?"":e}},b.prototype.setupWidthAndHeightInputs=function(){var a=c.$originalInput.attr("tabindex");c.$width=c.$html.find(".image-dimensions-picker-width"),c.$height=c.$html.find(".image-dimensions-picker-height"),c.$width.change(function(a){c.isAspectRatioLocked()&&c.setHeightBasedOnWidth(),c.updateHiddenVal()}),c.$height.change(function(a){c.isAspectRatioLocked()&&c.setWidthBasedOnHeight(),c.updateHiddenVal()}),isNaN(parseInt(a))||(c.$width.attr("tabindex",a),c.$height.attr("tabindex",a))},b.prototype.setupAspectRatioToggler=function(){c.$aspectRatioToggle=this.$html.find(".image-dimensions-picker-maintain-ratio"),c.$aspectRatioToggle.click(function(a){a.preventDefault(),c.isAspectRatioTogglerEnabled()&&(c.lockAspectRatio(!c.isAspectRatioLocked()),c.isAspectRatioLocked()&&c.setHeightBasedOnWidth())}),isNaN(c.ratio)?c.enableAspectRatioToggler(!1):(c.enableAspectRatioToggler(!0),c.lockAspectRatio(!0))},b.prototype.setAspectRatio=function(a){c.ratio=a},b.prototype.isAspectRatioLocked=function(a){return c.$aspectRatioToggle.hasClass("fa-lock")},b.prototype.lockAspectRatio=function(a){c.$aspectRatioToggle.removeClass(a?"fa-unlock":"fa-lock"),c.$aspectRatioToggle.addClass(a?"fa-lock":"fa-unlock")},b.prototype.enableAspectRatioToggler=function(a){a?c.$aspectRatioToggle.removeClass("disabled"):(c.$aspectRatioToggle.addClass("disabled"),c.lockAspectRatio(!1))},b.prototype.isAspectRatioTogglerEnabled=function(){return!c.$aspectRatioToggle.hasClass("disabled")},b.prototype.reset=function(a,b){var d=c.calculateDimensions(a+"x"+b);c.$width.val(d.width),c.$height.val(d.height),c.updateHiddenVal(),isNaN(c.ratio)?c.enableAspectRatioToggler(!1):(c.enableAspectRatioToggler(!0),c.lockAspectRatio(!0))},b.prototype.setHeightBasedOnWidth=function(){var a=parseInt(c.$width.val());isNaN(a)||isNaN(c.ratio)||c.$height.val(parseInt(a/c.ratio))},b.prototype.setWidthBasedOnHeight=function(){var a=parseInt(c.$height.val());isNaN(a)||isNaN(c.ratio)||c.$width.val(parseInt(a*c.ratio))},b}(),a.fn.imageDimensionPicker=function(){return this.each(function(){var c=a(this),d=new b(c);return c.data("ImageDimensionPicker",d),d})}}(presideJQuery),function(a){a(".object-picker").presideObjectPicker(),a(".asset-picker").uberAssetSelect(),a(".image-dimension-picker").imageDimensionPicker(),a(".auto-slug").each(function(){var b=a(this),c=b.parents("form:first").find("[name='"+b.data("basedOn")+"']");c.keyup(function(a){var d=c.val().replace(/\W/g,"-").replace(/-+/g,"-").toLowerCase();b.val(d)})}),a("textarea[class*=autosize]").autosize({append:"\n"}),a("textarea[class*=limited]").each(function(){var b=parseInt(a(this).attr("data-maxlength"))||100;a(this).inputlimiter({limit:b,remText:"%n character%s remaining...",limitText:"max allowed : %n."})}),a("textarea.richeditor").not(".frontend-container").each(function(){new PresideRichEditor(this)}),a(".date-picker").datepicker({autoclose:!0}).next().on("click",function(){a(this).prev().focus()}),a("[data-rel=popover]").popover({container:"body"}),a(".datetimepicker").datetimepicker({icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-screenshot",clear:"fa fa-trash"},format:"YYYY-MM-DD HH:mm",sideBySide:!0}),a(".timepicker").datetimepicker({icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-screenshot",clear:"fa fa-trash"},format:"HH:mm",sideBySide:!0}),a(".derivative-select-option").each(function(){var b=a(this),c=b.closest("form"),d=(c.find("[name=dimension]"),c.find(".image-dimensions-picker-width")),e=c.find(".image-dimensions-picker-height"),f=c.find("#quality"),g=c.find("[name=derivative]");b.change(function(){"none"===g.val()?(d.prop("disabled",!1),e.prop("disabled",!1),f.prop("disabled",!1).data("uberSelect").search_field_disabled()):(d.prop("disabled",!0),e.prop("disabled",!0),f.prop("disabled",!0),f.data("uberSelect").search_field_disabled())}),"none"!=g.val()&&(d.prop("disabled",!0),e.prop("disabled",!0),f.prop("disabled",!0),f.data("uberSelect").search_field_disabled())})}(presideJQuery),function(){function a(b,c,d){var e=a.resolve(b);if(null==e){d=d||b,c=c||"root";var f=new Error('Failed to require "'+d+'" from "'+c+'"');throw f.path=d,f.parent=c,f.require=!0,f}var g=a.modules[e];if(!g._resolving&&!g.exports){var h={};h.exports={},h.client=h.component=!0,g._resolving=!0,g.call(this,h.exports,a.relative(e),h),delete g._resolving,g.exports=h.exports}return g.exports}a.modules={},a.aliases={},a.resolve=function(b){"/"===b.charAt(0)&&(b=b.slice(1));for(var c=[b,b+".js",b+".json",b+"/index.js",b+"/index.json"],d=0;d<c.length;d++){var b=c[d];if(a.modules.hasOwnProperty(b))return b;if(a.aliases.hasOwnProperty(b))return a.aliases[b]}},a.normalize=function(a,b){var c=[];if("."!=b.charAt(0))return b;a=a.split("/"),b=b.split("/");for(var d=0;d<b.length;++d)".."==b[d]?a.pop():"."!=b[d]&&""!=b[d]&&c.push(b[d]);return a.concat(c).join("/")},a.register=function(b,c){a.modules[b]=c},a.alias=function(b,c){if(!a.modules.hasOwnProperty(b))throw new Error('Failed to alias "'+b+'", it does not exist');a.aliases[c]=b},a.relative=function(b){function c(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function d(c){var e=d.resolve(c);return a(e,b,c)}var e=a.normalize(b,"..");return d.resolve=function(d){var f=d.charAt(0);if("/"==f)return d.slice(1);if("."==f)return a.normalize(e,d);var g=b.split("/"),h=c(g,"deps")+1;return h||(h=0),d=g.slice(0,h+1).join("/")+"/deps/"+d},d.exists=function(b){return a.modules.hasOwnProperty(d.resolve(b))},d},a.register("component-classes/index.js",function(a,b,c){function d(a){if(!a)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}var e=b("indexof"),f=/\s+/,g=Object.prototype.toString;c.exports=function(a){return new d(a)},d.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=e(b,a);return~c||b.push(a),this.el.className=b.join(" "),this},d.prototype.remove=function(a){if("[object RegExp]"==g.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=e(b,a);return~c&&b.splice(c,1),this.el.className=b.join(" "),this},d.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},d.prototype.toggle=function(a,b){return this.list?("undefined"!=typeof b?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):("undefined"!=typeof b?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},d.prototype.array=function(){var a=this.el.className.replace(/^\s+|\s+$/g,""),b=a.split(f);return""===b[0]&&b.shift(),b},d.prototype.has=d.prototype.contains=function(a){return this.list?this.list.contains(a):!!~e(this.array(),a)}}),a.register("segmentio-extend/index.js",function(a,b,c){c.exports=function(a){for(var b,c=Array.prototype.slice.call(arguments,1),d=0;b=c[d];d++)if(b)for(var e in b)a[e]=b[e];return a}}),a.register("component-indexof/index.js",function(a,b,c){c.exports=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}}),a.register("component-event/index.js",function(a,b,c){var d=window.addEventListener?"addEventListener":"attachEvent",e=window.removeEventListener?"removeEventListener":"detachEvent",f="addEventListener"!==d?"on":"";a.bind=function(a,b,c,e){return a[d](f+b,c,e||!1),c},a.unbind=function(a,b,c,d){return a[e](f+b,c,d||!1),c}}),a.register("javve-to-array/index.js",function(a,b,c){c.exports=function(a){if("undefined"==typeof a)return[];if(null===a)return[null];if(a===window)return[window];if("string"==typeof a)return[a];if(a instanceof Array)return a;if("number"!=typeof a.length)return[a];if("function"==typeof a)return[a];for(var b=[],c=0;c<a.length;c++)(Object.prototype.hasOwnProperty.call(a,c)||c in a)&&b.push(a[c]);return b.length?b:[]}}),a.register("javve-events/index.js",function(a,b,c){var d=b("event"),e=b("to-array");a.bind=function(a,b,c,f){a=e(a);for(var g=0;g<a.length;g++)d.bind(a[g],b,c,f)},a.unbind=function(a,b,c,f){a=e(a);for(var g=0;g<a.length;g++)d.unbind(a[g],b,c,f)}}),a.register("javve-get-by-class/index.js",function(a,b,c){c.exports=function(){return document.getElementsByClassName?function(a,b,c){return c?a.getElementsByClassName(b)[0]:a.getElementsByClassName(b)}:document.querySelector?function(a,b,c){return b="."+b,c?a.querySelector(b):a.querySelectorAll(b)}:function(a,b,c){var d=[],e="*";null==a&&(a=document);for(var f=a.getElementsByTagName(e),g=f.length,h=new RegExp("(^|\\s)"+b+"(\\s|$)"),i=0,j=0;g>i;i++)if(h.test(f[i].className)){if(c)return f[i];d[j]=f[i],j++}return d}}()}),a.register("javve-get-attribute/index.js",function(a,b,c){c.exports=function(a,b){var c=a.getAttribute&&a.getAttribute(b)||null;if(!c)for(var d=a.attributes,e=d.length,f=0;e>f;f++)void 0!==b[f]&&b[f].nodeName===b&&(c=b[f].nodeValue);return c}}),a.register("javve-natural-sort/index.js",function(a,b,c){c.exports=function(a,b,c){var d,e,f=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,g=/(^[ ]*|[ ]*$)/g,h=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,i=/^0x[0-9a-f]+$/i,j=/^0/,c=c||{},k=function(a){return c.insensitive&&(""+a).toLowerCase()||""+a},l=k(a).replace(g,"")||"",m=k(b).replace(g,"")||"",n=l.replace(f,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),o=m.replace(f,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),p=parseInt(l.match(i))||1!=n.length&&l.match(h)&&Date.parse(l),q=parseInt(m.match(i))||p&&m.match(h)&&Date.parse(m)||null,r=c.desc?-1:1;if(q){if(q>p)return-1*r;if(p>q)return 1*r}for(var s=0,t=Math.max(n.length,o.length);t>s;s++){if(d=!(n[s]||"").match(j)&&parseFloat(n[s])||n[s]||0,e=!(o[s]||"").match(j)&&parseFloat(o[s])||o[s]||0,isNaN(d)!==isNaN(e))return isNaN(d)?1:-1;if(typeof d!=typeof e&&(d+="",e+=""),e>d)return-1*r;if(d>e)return 1*r}return 0}}),a.register("javve-to-string/index.js",function(a,b,c){c.exports=function(a){return a=void 0===a?"":a,a=null===a?"":a,a=a.toString()}}),a.register("component-type/index.js",function(a,b,c){var d=Object.prototype.toString;c.exports=function(a){switch(d.call(a)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===a?"null":void 0===a?"undefined":a!==a?"nan":a&&1===a.nodeType?"element":typeof a.valueOf()}}),a.register("list.js/index.js",function(a,b,c){!function(a,d){"use strict";var e=a.document,f=b("get-by-class"),g=b("extend"),h=b("indexof"),i=function(a,c,i){var j,k=this,l=b("./src/item")(k),m=b("./src/add-async")(k),n=b("./src/parse")(k);j={start:function(){k.listClass="list",k.searchClass="search",k.sortClass="sort",k.page=200,k.i=1,k.items=[],k.visibleItems=[],k.matchingItems=[],k.searched=!1,k.filtered=!1,k.handlers={updated:[]},k.plugins={},k.helpers={getByClass:f,extend:g,indexOf:h},g(k,c),k.listContainer="string"==typeof a?e.getElementById(a):a,k.listContainer&&(k.list=f(k.listContainer,k.listClass,!0),k.templater=b("./src/templater")(k),k.search=b("./src/search")(k),k.filter=b("./src/filter")(k),k.sort=b("./src/sort")(k),this.items(),k.update(),this.plugins())},items:function(){n(k.list),i!==d&&k.add(i)},plugins:function(){for(var a=0;a<k.plugins.length;a++){var b=k.plugins[a];k[b.name]=b,b.init(k)}}},this.add=function(a,b){if(b)return void m(a,b);var c=[],e=!1;a[0]===d&&(a=[a]);for(var f=0,g=a.length;g>f;f++){var h=null;a[f]instanceof l?(h=a[f],h.reload()):(e=k.items.length>k.page?!0:!1,h=new l(a[f],d,e)),k.items.push(h),c.push(h)}return k.update(),c},this.show=function(a,b){return this.i=a,this.page=b,k.update(),k},this.remove=function(a,b,c){for(var d=0,e=0,f=k.items.length;f>e;e++)k.items[e].values()[a]==b&&(k.templater.remove(k.items[e],c),k.items.splice(e,1),f--,e--,d++);return k.update(),d},this.get=function(a,b){for(var c=[],d=0,e=k.items.length;e>d;d++){var f=k.items[d];f.values()[a]==b&&c.push(f)}return c},this.size=function(){return k.items.length},this.clear=function(){return k.templater.clear(),k.items=[],k},this.on=function(a,b){return k.handlers[a].push(b),k},this.off=function(a,b){var c=k.handlers[a],d=h(c,b);return d>-1&&c.splice(d,1),k},this.trigger=function(a){for(var b=k.handlers[a].length;b--;)k.handlers[a][b](k);return k},this.reset={filter:function(){for(var a=k.items,b=a.length;b--;)a[b].filtered=!1;return k},search:function(){for(var a=k.items,b=a.length;b--;)a[b].found=!1;return k}},this.update=function(){var a=k.items,b=a.length;k.visibleItems=[],k.matchingItems=[],k.templater.clear();for(var c=0;b>c;c++)a[c].matching()&&k.matchingItems.length+1>=k.i&&k.visibleItems.length<k.page?(a[c].show(),k.visibleItems.push(a[c]),k.matchingItems.push(a[c])):a[c].matching()?(k.matchingItems.push(a[c]),a[c].hide()):a[c].hide();return k.trigger("updated"),k},j.start()};c.exports=i}(window)}),a.register("list.js/src/search.js",function(a,b,c){var d=b("events"),e=b("get-by-class"),f=b("to-string");c.exports=function(a){var b,c,g,h,i={resetList:function(){a.i=1,a.templater.clear(),h=void 0},setOptions:function(a){2==a.length&&a[1]instanceof Array?c=a[1]:2==a.length&&"function"==typeof a[1]?h=a[1]:3==a.length&&(c=a[1],h=a[2])},setColumns:function(){c=void 0===c?i.toArray(a.items[0].values()):c},setSearchString:function(a){a=f(a).toLowerCase(),a=a.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),g=a},toArray:function(a){var b=[];for(var c in a)b.push(c);return b}},j={list:function(){for(var b=0,c=a.items.length;c>b;b++)j.item(a.items[b])},item:function(a){a.found=!1;for(var b=0,d=c.length;d>b;b++)if(j.values(a.values(),c[b]))return void(a.found=!0)},values:function(a,c){return a.hasOwnProperty(c)&&(b=f(a[c]).toLowerCase(),""!==g&&b.search(g)>-1)?!0:!1},reset:function(){a.reset.search(),a.searched=!1}},k=function(b){return a.trigger("searchStart"),i.resetList(),i.setSearchString(b),i.setOptions(arguments),i.setColumns(),""===g?j.reset():(a.searched=!0,h?h(g,c):j.list()),a.update(),a.trigger("searchComplete"),a.visibleItems};return a.handlers.searchStart=a.handlers.searchStart||[],a.handlers.searchComplete=a.handlers.searchComplete||[],d.bind(e(a.listContainer,a.searchClass),"keyup",function(a){var b=a.target||a.srcElement;k(b.value)}),a.helpers.toString=f,k}}),a.register("list.js/src/sort.js",function(a,b,c){var d=b("natural-sort"),e=b("classes"),f=b("events"),g=b("get-by-class"),h=b("get-attribute");c.exports=function(a){a.sortFunction=a.sortFunction||function(a,b,c){return c.desc="desc"==c.order?!0:!1,d(a.values()[c.valueName],b.values()[c.valueName],c)};var b={els:void 0,clear:function(){for(var a=0,c=b.els.length;c>a;a++)e(b.els[a]).remove("asc"),e(b.els[a]).remove("desc")},getOrder:function(a){var b=h(a,"data-order");return"asc"==b||"desc"==b?b:e(a).has("desc")?"asc":e(a).has("asc")?"desc":"asc"},getInSensitive:function(a,b){var c=h(a,"data-insensitive");"true"===c?b.insensitive=!0:b.insensitive=!1},setOrder:function(a){for(var c=0,d=b.els.length;d>c;c++){var f=b.els[c];if(h(f,"data-sort")===a.valueName){var g=h(f,"data-order");"asc"==g||"desc"==g?g==a.order&&e(f).add(a.order):e(f).add(a.order)}}}},c=function(){a.trigger("sortStart"),options={};var c=arguments[0].currentTarget||arguments[0].srcElement||void 0;c?(options.valueName=h(c,"data-sort"),b.getInSensitive(c,options),options.order=b.getOrder(c)):(options=arguments[1]||options,options.valueName=arguments[0],options.order=options.order||"asc",options.insensitive="undefined"==typeof options.insensitive?!0:options.insensitive),b.clear(),b.setOrder(options),options.sortFunction=options.sortFunction||a.sortFunction,a.items.sort(function(a,b){return options.sortFunction(a,b,options)}),a.update(),a.trigger("sortComplete")};return a.handlers.sortStart=a.handlers.sortStart||[],a.handlers.sortComplete=a.handlers.sortComplete||[],b.els=g(a.listContainer,a.sortClass),f.bind(b.els,"click",c),a.on("searchStart",b.clear),a.on("filterStart",b.clear),a.helpers.classes=e,a.helpers.naturalSort=d,a.helpers.events=f,a.helpers.getAttribute=h,c}}),a.register("list.js/src/item.js",function(a,b,c){c.exports=function(a){return function(b,c,d){var e=this;this._values={},this.found=!1,this.filtered=!1;var f=function(b,c,d){if(void 0===c)d?e.values(b,d):e.values(b);else{e.elm=c;var f=a.templater.get(e,b);e.values(f)}};this.values=function(b,c){if(void 0===b)return e._values;for(var d in b)e._values[d]=b[d];c!==!0&&a.templater.set(e,e.values())},this.show=function(){a.templater.show(e)},this.hide=function(){a.templater.hide(e)},this.matching=function(){return a.filtered&&a.searched&&e.found&&e.filtered||a.filtered&&!a.searched&&e.filtered||!a.filtered&&a.searched&&e.found||!a.filtered&&!a.searched},this.visible=function(){return e.elm.parentNode==a.list?!0:!1},f(b,c,d)}}}),a.register("list.js/src/templater.js",function(a,b,c){var d=b("get-by-class"),e=function(a){function b(b){if(void 0===b){for(var c=a.list.childNodes,d=0,e=c.length;e>d;d++)if(void 0===c[d].data)return c[d];return null}if(-1!==b.indexOf("<")){var f=document.createElement("div");return f.innerHTML=b,f.firstChild}return document.getElementById(a.item)}var c=b(a.item),e=this;this.get=function(a,b){e.create(a);for(var c={},f=0,g=b.length;g>f;f++){var h=d(a.elm,b[f],!0);c[b[f]]=h?h.innerHTML:""}return c},this.set=function(a,b){if(!e.create(a))for(var c in b)if(b.hasOwnProperty(c)){var f=d(a.elm,c,!0);f&&("IMG"===f.tagName&&""!==b[c]?f.src=b[c]:f.innerHTML=b[c])}},this.create=function(a){if(void 0!==a.elm)return!1;var b=c.cloneNode(!0);return b.removeAttribute("id"),a.elm=b,e.set(a,a.values()),!0},this.remove=function(b){a.list.removeChild(b.elm)},this.show=function(b){e.create(b),a.list.appendChild(b.elm)},this.hide=function(b){void 0!==b.elm&&b.elm.parentNode===a.list&&a.list.removeChild(b.elm)},this.clear=function(){if(a.list.hasChildNodes())for(;a.list.childNodes.length>=1;)a.list.removeChild(a.list.firstChild)}};c.exports=function(a){return new e(a)}}),a.register("list.js/src/filter.js",function(a,b,c){c.exports=function(a){return a.handlers.filterStart=a.handlers.filterStart||[],a.handlers.filterComplete=a.handlers.filterComplete||[],function(b){if(a.trigger("filterStart"),a.i=1,a.reset.filter(),void 0===b)a.filtered=!1;else{a.filtered=!0;for(var c=a.items,d=0,e=c.length;e>d;d++){var f=c[d];b(f)?f.filtered=!0:f.filtered=!1}}return a.update(),a.trigger("filterComplete"),a.visibleItems}}}),a.register("list.js/src/add-async.js",function(a,b,c){c.exports=function(a){return function(b,c,d){var e=b.splice(0,100);d=d||[],d=d.concat(a.add(e)),b.length>0?setTimeout(function(){addAsync(b,c,d)},10):(a.update(),c(d))}}}),a.register("list.js/src/parse.js",function(a,b,c){c.exports=function(a){var c=b("./item")(a),d=function(a){for(var b=a.childNodes,c=[],d=0,e=b.length;e>d;d++)void 0===b[d].data&&c.push(b[d]);return c},e=function(b,d){for(var e=0,f=b.length;f>e;e++)a.items.push(new c(d,b[e]))},f=function(b,c){var d=b.splice(0,100);e(d,c),b.length>0?setTimeout(function(){init.items.indexAsync(b,c)},10):a.update()};return function(){var b=d(a.list),c=a.valueNames;a.indexAsync?f(b,c):e(b,c)}}}),a.alias("component-classes/index.js","list.js/deps/classes/index.js"),a.alias("component-classes/index.js","classes/index.js"),a.alias("component-indexof/index.js","component-classes/deps/indexof/index.js"),a.alias("segmentio-extend/index.js","list.js/deps/extend/index.js"),a.alias("segmentio-extend/index.js","extend/index.js"),a.alias("component-indexof/index.js","list.js/deps/indexof/index.js"),a.alias("component-indexof/index.js","indexof/index.js"),a.alias("javve-events/index.js","list.js/deps/events/index.js"),a.alias("javve-events/index.js","events/index.js"),a.alias("component-event/index.js","javve-events/deps/event/index.js"),a.alias("javve-to-array/index.js","javve-events/deps/to-array/index.js"),a.alias("javve-get-by-class/index.js","list.js/deps/get-by-class/index.js"),a.alias("javve-get-by-class/index.js","get-by-class/index.js"),a.alias("javve-get-attribute/index.js","list.js/deps/get-attribute/index.js"),a.alias("javve-get-attribute/index.js","get-attribute/index.js"),a.alias("javve-natural-sort/index.js","list.js/deps/natural-sort/index.js"),a.alias("javve-natural-sort/index.js","natural-sort/index.js"),a.alias("javve-to-string/index.js","list.js/deps/to-string/index.js"),a.alias("javve-to-string/index.js","list.js/deps/to-string/index.js"),a.alias("javve-to-string/index.js","to-string/index.js"),a.alias("javve-to-string/index.js","javve-to-string/index.js"),a.alias("component-type/index.js","list.js/deps/type/index.js"),a.alias("component-type/index.js","type/index.js"),"object"==typeof exports?module.exports=a("list.js"):"function"==typeof define&&define.amd?define(function(){return a("list.js")}):this.List=a("list.js")}(),function(a){var b=a("form[data-auto-focus-form=true]").first();b.length&&b.find("input,select,textarea").not(":hidden").first().focus()}(presideJQuery),function(a){var b=function(b){return a.inArray(b.nodeName,["A","INPUT","BUTTON","TEXTAREA","SELECT"])>=0||a(b).parents("a:first,input:first,button:first,textarea:first,select:first").length||a(b).data("toggle")};a("body").on("click","tr.clickable",function(c){if(!b(c.target)){var d=a(this).find("a:first");d.length&&(c.preventDefault(),d.get(0).click())}})}(presideJQuery),function(a){a("body").on("click",".confirmation-prompt",function(b){var c,d=a(this);b.preventDefault(),d.data("confirmationPrompt")||(c=d.data("title")||d.attr("title"),c=c.charAt(0).toLowerCase()+c.slice(1),d.data("confirmationPrompt",i18n.translateResource("cms:confirmation.prompt",{data:[c]}))),presideBootbox.confirm(d.data("confirmationPrompt"),function(b){b&&(d.get(0).form?a(d.get(0).form).submit():document.location=d.attr("href"))})})}(presideJQuery),function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=a("#nav-search-input"),y=a("#sidebar"),z=a("#main-container"),A=!1,B=parseInt("undefined"==typeof cfrequest.devConsoleToggleKeyCode?96:cfrequest.devConsoleToggleKeyCode);o=function(){a("body").keydown("g",function(a){r()||c(a)}).keyup("/",function(a){r()||g(a)}).keydown("esc",f).keydown("comma",function(a){r()||toggleSidebar(a)}).keydown("period",function(a){r()||h(a)}).keydown("t",function(a){r()||p(a)}).keydown("up",function(a){r()||b(a,"up")}).keydown("down",function(a){r()||b(a,"down")}).keydown("left",function(a){r()||b(a,"left")}).keydown("right",function(a){r()||b(a,"right")}).keypress(function(a){a.which===B&&w(a)}).keydown(e)},n=function(){var b=m();a("[data-nav-list]").each(function(){var c=a(this);c.find(c.data("navListChildSelector")).each(function(){var c=a(this);c.attr("tabindex")||c.attr("tabindex",b++)})})},q=function(){var b=function(a,b){var c=a.attr("title"),d=i18n.translateResource("cms:hotkey.hint",{data:[b]}),e=c&&c.length?c+" "+d:d;a.data("title",c),a.attr("title",e)};a("[data-global-key]").each(function(){var c=a(this);b(c,c.data("globalKey"))}),a("[data-context-key]").each(function(){var c=a(this);b(c,c.data("contextKey"))}),a("[data-goto-key]").each(function(){var c=a(this);b(c,"g + "+c.data("gotoKey"))})},b=function(b,c){var d=l();return a(":focus").length&&null===d?void("up"===c?a.tabPrev():"down"===c&&a.tabNext()):void("up"===c||"down"===c?i(b,d,c):j(b,d,c))},l=function(){var b=a("[data-nav-list]").filter(":visible"),c=null;return b.each(function(){var b=a(this),d=b.find(b.data("navListChildSelector"));return d.each(function(){return $currentFocusedList=b,a(this).is(":focus")?(c=b,!1):void 0}),null!=c?!1:void 0}),c},i=function(b,c,d){var e,f,g=null!==c?c:a("[data-nav-list]").filter(":visible").first(),h=-1;if(b.preventDefault(),g.length){switch(e=g.find(g.data("navListChildSelector")).filter(":visible"),e.each(function(b){var c=a(this);return c.is(":focus")?(h=b,!1):void 0}),d){case"up":f=h>0?h-1:0;break;case"down":f=0>h?0:h>=0&&h<e.length-1?h+1:h}a(e.get(f)).focus()}},j=function(b,c,d){var e,f=a("[data-nav-list]").filter(":visible"),g=-1;null!==c&&c.length&&f.each(function(a){
return this===c.get(0)?(g=a,!1):void 0}),e="left"===d?0>=g?f.length-1:g-1:-1===g||g>=f.length-1?0:g+1,e!==g&&i(b,a(f.get(e)),"down")},k=function(){focusedList=null,a(":focus").blur()},c=function(){A=!A,A&&setTimeout(c,1e3)},e=function(b){var c,e,f=String.fromCharCode(b.keyCode).toLowerCase(),g=a(":focus");if(r())return void(27===b.keyCode&&(u()&&v(),g.blur()));if(null!==f.match(/^[a-z]$/)){if(A)return void d(f);if(g.length&&(c=g.closest("[data-context-container]"),c.length&&(e=c.find("[data-context-key="+f+"]"),e.length)))return void e.get(0).click();if(e=a("[data-global-key="+f+"]"),e.length)return void(e.attr("href")||e.is(":submit")||e.is(":button")?e.get(0).click():(e.focus(),b.preventDefault()))}},d=function(b){var c=a("[data-goto-key="+b+"]");c.length&&c.get(0).click()},g=function(){x.focus()},f=function(){k()},toggleSidebar=function(){ace.settings.sidebar_collapsed(!y.hasClass("menu-min"))},h=function(){ace.settings.main_container_fixed(!z.hasClass("container"))},m=function(){var b=0;return a("[tabindex]").each(function(){var c=parseInt(a(this).attr("tabindex"));!isNaN(c)&&c>b&&(b=c)}),b+1},p=function(b){var c=a(".nav-tabs > li"),d=c.length,e=0;d&&(c.each(function(b){return a(this).hasClass("active")?(e=b+1,!1):void 0}),e>=d&&(e=0),a(c.get(e)).find("a").first().click(),f())},r=function(){var b=a(":focus");return u()?!0:b.length?(isInFormField=a.inArray(b.prop("nodeName"),["INPUT","TEXTAREA"])>=0&&-1===a.inArray(b.prop("type").toLowerCase(),["checkbox","radio","submit","button"]),isInFormField?!0:void 0):!1},s=function(){return"undefined"!=typeof presideTerminal},t=function(){return presideTerminal},u=function(){return s()&&t().enabled()},v=function(){s()&&t().disable()},w=function(){s()&&t().toggle()},n(),o(),q(),window.userIsTyping=r}(presideJQuery),function(a){var b,c;b=function(b){var c=a('<div class="preside-loading-sheen"></div>');b.append(c),c.hide(),c.fadeIn("fast")},c=function(a){var b=a.find(".preside-loading-sheen");b.length&&b.fadeOut("fast",function(){b.remove()})},a.fn.presideLoadingSheen=function(d){return this.each(function(){var e=a(this);d?b(e):c(e)})}}(presideJQuery);var buildAjaxLink=function(){var a=(cfrequest||{}).ajaxEndpoint||"";return function(b,c){var d,e=a+"?action="+b;if(c)for(d in c)e+="&"+d+"="+c[d];return e}}(),buildAdminLink=function(){var a=(cfrequest||{}).adminBaseUrl||"/";return function(b,c,d){var e,f=a,g="?";if(b&&(f+=b.replace(/\./g,"/")+"/",c&&(f+=c+"/")),d)for(e in d)f+=g+e+"="+d[e],g="&";return f}}(),buildLink=function(){var a="/";return function(b,c,d){var e,f=a,g="?";if(b&&(f+=b.replace(/\./g,"/")+"/",c&&(f+=c+"/")),d)for(e in d)f+=g+e+"="+d[e],g="&";return f}}();!function(a){a.validator.setDefaults({errorElement:"div",errorClass:"help-block",ignore:[],invalidHandler:function(b,c){var d,e,f,g=c.invalidElements();for(e=0;e<g.length;e++)d=a(g[e]).closest(".tab-pane").attr("id"),f=a('.tabbable a[href="#'+d+'"]'),f.length&&(f.closest("li").addClass("error"),0==e&&f.tab("show"))},highlight:function(b){a(b).closest(".form-group").removeClass("has-info").addClass("has-error")},success:function(b){a(b).closest(".form-group").removeClass("has-error").addClass("has-info"),a(b).remove()},errorPlacement:function(a,b){if(b.is(":checkbox")||b.is(":radio")){var c=b.closest('div[class*="col-"]');c.find(":checkbox,:radio").length>1?c.append(a):a.insertAfter(b.nextAll(".lbl:eq(0)").eq(0))}else b.is(".select2")?a.insertAfter(b.siblings('[class*="select2-container"]:eq(0)')):b.is(".chosen-select")?a.insertAfter(b.siblings('[class*="chosen-container"]:eq(0)')):a.insertAfter(b.parent())}})}(presideJQuery),function(a){var b,c,d=a("table");c=function(a){var b=a.data("_previousParentWidth"),c=a.parent().width(),d="undefined"==typeof b||b!==c;return d&&a.data("_previousParentWidth",c),d},b=function(){d.filter(".dataTable").each(function(){var b=a(this);c(b)&&(b.css({width:b.parent().width()}),b.DataTable().fnAdjustColumnSizing())})},setInterval(function(){b()},250)}(presideJQuery),function(a){var b,c,d,e,f,g=a("#assetUploadDropzone");g.length&&(c=function(){b=this,g.data("dropzone",b),d()},d=function(){g.on("click",".reset-btn",function(a){a.preventDefault(),a.stopPropagation(),b.removeAllFiles(!0)}),g.on("click",function(c){a(c.target).hasClass("btn")||a(c.target).parents(".upload-instructions").length||b.hiddenFileInput.click()}),b.on("success",e),b.on("removedfile",f)},e=function(b,c){"object"==typeof c&&"undefined"!=typeof c.fileid&&c.fileid.length&&a(b.previewTemplate).append('<input name="fileid" type="hidden" value="'+c.fileid+'" />')},f=function(b){var c=a(b.previewTemplate).find("input[name=fileid]"),d=c.length&&c.val();d&&a.post(buildAdminLink("assetmanager","deleteTempFile"),{fileid:d})},configureDropZone=function(){Dropzone.options.assetUploadDropzone={init:c,url:g.data("uploadUrl"),paramName:"file",clickable:g.find(".upload-instructions").get(),addRemoveLinks:!0,maxFilesize:cfrequest.maxFileSize||5,maxFiles:cfrequest.maxFiles||null,acceptedFiles:cfrequest.allowedExtensions||"",previewTemplate:'<div class="dz-preview dz-file-preview">			                        <div class="dz-details">			                            <div class="dz-filename"><span data-dz-name></span></div>		                                <div class="dz-size" data-dz-size></div>		                                <img data-dz-thumbnail />		                            </div>		                            <div class="progress progress-small progress-striped active">		                            	<div class="progress-bar progress-bar-success" data-dz-uploadprogress></div>		                            </div>		                            <div class="dz-success-mark"><span></span></div>		                            <div class="dz-error-mark"><span></span></div>		                            <div class="dz-error-message"><span data-dz-errormessage></span></div>		                        </div>'}},configureDropZone())}(presideJQuery),function(a){var b=function(){function b(a,b){this.$tree=a,this.setupOptions(b),this.setupUxBehaviours(),this.initializeSelection()}return b.prototype.setupOptions=function(b){var c={collapseIcon:"fa-minus",expandIcon:"fa-plus"};this.options=a.extend({},c,b)},b.prototype.setupUxBehaviours=function(){var b=this;b.$tree.on("click",".tree-node-toggler",function(c){b.toggleNode(a(this).closest(".tree-folder"))}),"function"==typeof b.options.onClick&&(b.$tree.on("click",".tree-node",function(c){var d=a(this);b.options.onClick(d,c)}),b.$tree.on("keydown",".tree-node","return",function(c){var d=a(this);b.options.onClick(d,c),c.stopPropagation()})),b.$tree.on("keydown",".tree-folder-header","left",function(c){c.stopPropagation(),b.toggleNode(a(this).parent(),!1)}),b.$tree.on("keydown",".tree-folder-header","right",function(c){c.stopPropagation(),b.toggleNode(a(this).parent(),!0)})},b.prototype.toggleNode=function(a,b){var c=a.find(".tree-folder-header:first"),d=a.find(".tree-folder-content:first"),e=c.find("i:first");"undefined"==typeof b?(d.toggleClass("open"),e.toggleClass(this.options.expandIcon),e.toggleClass(this.options.collapseIcon)):(d.toggleClass("open",b),e.toggleClass(this.options.expandIcon,!b),e.toggleClass(this.options.collapseIcon,b))},b.prototype.initializeSelection=function(){var b=this.$tree.find(".selected"),c=this;b.length?(b.parents(".tree-folder").each(function(){c.toggleNode(a(this),!0)}),b.focus()):c.toggleNode(this.$tree.find(".tree-folder").first(),!0)},b}();a.fn.presideTreeNav=function(c){return this.each(function(){var d=a(this),e=d.data("presideTreeNav");e||d.data("presideTreeNav",new b(d,c))})}}(presideJQuery);
//# sourceMappingURL=_presidecore.min.map