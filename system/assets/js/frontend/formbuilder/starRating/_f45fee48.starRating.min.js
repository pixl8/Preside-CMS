"undefined"!=typeof executeWithFormBuilderDependencies&&executeWithFormBuilderDependencies(function(a){!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(window.jQuery)}(function(a){"use strict";a.fn.ratingLocales={};var b,c,d,e,f,g,h,i,j,k,l;b=".rating",c=0,d=5,e=.5,f=function(b,c){return null===b||void 0===b||0===b.length||c&&""===a.trim(b)},g=function(a,b){a.removeClass(b).addClass(b)},h=function(a,b,c){var d=f(a.data(b))?a.attr(b):a.data(b);return d?d:c[b]},i=function(a){var b=(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return b?Math.max(0,(b[1]?b[1].length:0)-(b[2]?+b[2]:0)):0},j=function(a,b){return parseFloat(a.toFixed(b))},k=function(a,c,d,e){var f=e?c:c.split(" ").join(b+" ")+b;a.off(f).on(f,d)},l=function(b,c){this.$element=a(b),this.init(c)},l.prototype={constructor:l,_parseAttr:function(a,b){var g,i,j,k=this,l=k.$element,m=l.attr("type");if("range"===m||"number"===m){switch(i=h(l,a,b),a){case"min":j=c;break;case"max":j=d;break;default:j=e}return g=f(i)?j:i,parseFloat(g)}return parseFloat(b[a])},setDefault:function(a,b){var c=this;f(c[a])&&(c[a]=b)},getPosition:function(a){var b=f(a.pageX)?a.originalEvent.touches[0].pageX:a.pageX;return b-this.$rating.offset().left},listenClick:function(a,b){return a.stopPropagation(),a.preventDefault(),a.handled!==!0&&(b(a),void(a.handled=!0))},starClick:function(a){var b,c=this;c.listenClick(a,function(a){return!c.inactive&&(b=c.getPosition(a),c.setStars(b),c.$element.trigger("change").trigger("rating.change",[c.$element.val(),c.$caption.html()]),void(c.starClicked=!0))})},starMouseMove:function(a){var b,c,d=this;!d.hoverEnabled||d.inactive||a&&a.isDefaultPrevented()||(d.starClicked=!1,b=d.getPosition(a),c=d.calculate(b),d.toggleHover(c),d.$element.trigger("rating.hover",[c.val,c.caption,"stars"]))},starMouseLeave:function(a){var b,c=this;!c.hoverEnabled||c.inactive||c.starClicked||a&&a.isDefaultPrevented()||(b=c.cache,c.toggleHover(b),c.$element.trigger("rating.hoverleave",["stars"]))},clearClick:function(a){var b=this;b.listenClick(a,function(){b.inactive||(b.clear(),b.clearClicked=!0)})},clearMouseMove:function(a){var b,c,d,e,f=this;!f.hoverEnabled||f.inactive||!f.hoverOnClear||a&&a.isDefaultPrevented()||(f.clearClicked=!1,b='<span class="'+f.clearCaptionClass+'">'+f.clearCaption+"</span>",c=f.clearValue,d=f.getWidthFromValue(c),e={caption:b,width:d,val:c},f.toggleHover(e),f.$element.trigger("rating.hover",[c,b,"clear"]))},clearMouseLeave:function(a){var b,c=this;!c.hoverEnabled||c.inactive||c.clearClicked||!c.hoverOnClear||a&&a.isDefaultPrevented()||(b=c.cache,c.toggleHover(b),c.$element.trigger("rating.hoverleave",["clear"]))},resetForm:function(a){var b=this;a&&a.isDefaultPrevented()||b.inactive||b.reset()},initTouch:function(a){var b=this,c="touchend"===a.type;b.setTouch(a,c)},listen:function(){var b=this,c=b.$element.closest("form"),d=b.$rating,e=b.$clear;k(d,"touchstart touchmove touchend",a.proxy(b.initTouch,b)),k(d,"click touchstart",a.proxy(b.starClick,b)),k(d,"mousemove",a.proxy(b.starMouseMove,b)),k(d,"mouseleave",a.proxy(b.starMouseLeave,b)),k(e,"click touchstart",a.proxy(b.clearClick,b)),k(e,"mousemove",a.proxy(b.clearMouseMove,b)),k(e,"mouseleave",a.proxy(b.clearMouseLeave,b)),c.length&&k(c,"reset",a.proxy(b.resetForm,b))},destroy:function(){var b=this,c=b.$element;f(b.$container)||b.$container.before(c).remove(),a.removeData(c.get(0)),c.off("rating").removeClass("hide")},create:function(a){var b=this,c=b.$element;a=a||b.options||{},b.destroy(),c.rating(a)},setTouch:function(a,b){var c,d,e,g,h,i,j,k=this,l="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch;l&&!k.inactive&&(c=a.originalEvent,d=f(c.touches)?c.changedTouches:c.touches,e=k.getPosition(d[0]),b?(k.setStars(e),k.$element.trigger("change").trigger("rating.change",[k.$element.val(),k.$caption.html()]),k.starClicked=!0):(g=k.calculate(e),h=g.val<=k.clearValue?k.fetchCaption(k.clearValue):g.caption,i=k.getWidthFromValue(k.clearValue),j=g.val<=k.clearValue?k.rtl?100-i+"%":i+"%":g.width,k.$caption.html(h),k.$stars.css("width",j)))},initSlider:function(a){var b=this;f(b.$element.val())&&b.$element.val(0),b.initialValue=b.$element.val(),b.setDefault("min",b._parseAttr("min",a)),b.setDefault("max",b._parseAttr("max",a)),b.setDefault("step",b._parseAttr("step",a)),(isNaN(b.min)||f(b.min))&&(b.min=c),(isNaN(b.max)||f(b.max))&&(b.max=d),(isNaN(b.step)||f(b.step)||0===b.step)&&(b.step=e),b.diff=b.max-b.min},init:function(b){var c,d,e,h=this,i=h.$element;h.options=b,a.each(b,function(a,b){h[a]=b}),h.starClicked=!1,h.clearClicked=!1,h.initSlider(b),h.checkDisabled(),h.setDefault("rtl",i.attr("dir")),h.rtl&&i.attr("dir","rtl"),c=h.glyphicon?"":"★",h.setDefault("symbol",c),h.setDefault("clearButtonBaseClass","clear-rating"),h.setDefault("clearButtonActiveClass","clear-rating-active"),h.setDefault("clearValue",h.min),g(i,"form-control hide"),h.$clearElement=f(b.clearElement)?null:a(b.clearElement),h.$captionElement=f(b.captionElement)?null:a(b.captionElement),void 0===h.$rating&&void 0===h.$container&&(h.$rating=a(document.createElement("div")).html('<div class="rating-stars"></div>'),h.$container=a(document.createElement("div")),h.$container.before(h.$rating).append(h.$rating),i.before(h.$container).appendTo(h.$rating)),h.$stars=h.$rating.find(".rating-stars"),h.generateRating(),h.$clear=f(h.$clearElement)?h.$container.find("."+h.clearButtonBaseClass):h.$clearElement,h.$caption=f(h.$captionElement)?h.$container.find(".caption"):h.$captionElement,h.setStars(),h.listen(),h.showClear&&h.$clear.attr({class:h.getClearClass()}),d=i.val(),e=h.getWidthFromValue(d),h.cache={caption:h.$caption.html(),width:(h.rtl?100-e:e)+"%",val:d},i.removeClass("rating-loading")},checkDisabled:function(){var a=this;a.disabled=h(a.$element,"disabled",a.options),a.readonly=h(a.$element,"readonly",a.options),a.inactive=a.disabled||a.readonly},getClearClass:function(){return this.clearButtonBaseClass+" "+(this.inactive?"":this.clearButtonActiveClass)},generateRating:function(){var a=this,b=a.renderClear(),c=a.renderCaption(),d=a.rtl?"rating-container-rtl":"rating-container",e=a.getStars();d+=a.glyphicon?(""===a.symbol?" rating-gly-star":" rating-gly")+a.ratingClass:f(a.ratingClass)?" rating-uni":" "+a.ratingClass,a.$rating.attr("class",d),a.$rating.attr("data-content",e),a.$stars.attr("data-content",e),d=a.rtl?"star-rating-rtl":"star-rating",a.$container.attr("class",d+" rating-"+a.size),a.$container.removeClass("rating-active rating-disabled"),a.inactive?a.$container.addClass("rating-disabled"):a.$container.addClass("rating-active"),f(a.$caption)&&(a.rtl?a.$container.prepend(c):a.$container.append(c)),f(a.$clear)&&(a.rtl?a.$container.append(b):a.$container.prepend(b)),f(a.containerClass)||g(a.$container,a.containerClass)},getStars:function(){var a,b=this,c=b.stars,d="";for(a=1;a<=c;a++)d+=b.symbol;return d},renderClear:function(){var a,b=this;return b.showClear?(a=b.getClearClass(),f(b.$clearElement)?'<div class="'+a+'" title="'+b.clearButtonTitle+'">'+b.clearButton+"</div>":(g(b.$clearElement,a),b.$clearElement.attr({title:b.clearButtonTitle}).html(b.clearButton),"")):""},renderCaption:function(){var a,b=this,c=b.$element.val();return b.showCaption?(a=b.fetchCaption(c),f(b.$captionElement)?'<div class="caption">'+a+"</div>":(g(b.$captionElement,"caption"),b.$captionElement.html(a),"")):""},fetchCaption:function(a){var b,c,d,e,g,h=this,i=parseFloat(a),j=h.starCaptions,k=h.starCaptionClasses;return e="function"==typeof k?k(i):k[i],d="function"==typeof j?j(i):j[i],c=f(d)?h.defaultCaption.replace(/\{rating}/g,i):d,b=f(e)?h.clearCaptionClass:e,g=i===h.clearValue?h.clearCaption:c,'<span class="'+b+'">'+g+"</span>"},getWidthFromValue:function(a){var b=this,c=b.min,d=b.max;return a<=c||c===d?0:a>=d?100:100*(a-c)/(d-c)},getValueFromPosition:function(a){var b,c,d=this,e=i(d.step),f=d.$rating.width();return c=d.diff*a/(f*d.step),c=d.rtl?Math.floor(c):Math.ceil(c),b=j(parseFloat(d.min+c*d.step),e),b=Math.max(Math.min(b,d.max),d.min),d.rtl?d.max-b:b},toggleHover:function(a){var b,c,d,e=this;e.hoverChangeCaption&&(d=a.val<=e.clearValue?e.fetchCaption(e.clearValue):a.caption,e.$caption.html(d)),e.hoverChangeStars&&(b=e.getWidthFromValue(e.clearValue),c=a.val<=e.clearValue?e.rtl?100-b+"%":b+"%":a.width,e.$stars.css("width",c))},calculate:function(a){var b=this,c=f(b.$element.val())?0:b.$element.val(),d=arguments.length?b.getValueFromPosition(a):c,e=b.fetchCaption(d),g=b.getWidthFromValue(d);return b.rtl&&(g=100-g),g+="%",{caption:e,width:g,val:d}},setStars:function(a){var b=this,c=arguments.length?b.calculate(a):b.calculate();b.$element.val(c.val),b.$stars.css("width",c.width),b.$caption.html(c.caption),b.cache=c},clear:function(){var a=this,b='<span class="'+a.clearCaptionClass+'">'+a.clearCaption+"</span>";a.$stars.removeClass("rated"),a.inactive||a.$caption.html(b),a.$element.val(a.clearValue),a.setStars(),a.$element.trigger("rating.clear")},reset:function(){var a=this;a.$element.val(a.initialValue),a.setStars(),a.$element.trigger("rating.reset")},update:function(a){var b=this;arguments.length&&(b.$element.val(a),b.setStars())},refresh:function(b){var c=this;arguments.length&&(c.$rating.off("rating"),void 0!==c.$clear&&c.$clear.off(),c.init(a.extend(!0,c.options,b)),c.showClear?c.$clear.show():c.$clear.hide(),c.showCaption?c.$caption.show():c.$caption.hide(),c.$element.trigger("rating.refresh"))}},a.fn.rating=function(b){var c=Array.apply(null,arguments),d=[];switch(c.shift(),this.each(function(){var e,g=a(this),h=g.data("rating"),i="object"==typeof b&&b,j=i.language||g.data("language")||"en",k={};h||("en"===j||f(a.fn.ratingLocales[j])||(k=a.fn.ratingLocales[j]),e=a.extend(!0,{},a.fn.rating.defaults,a.fn.ratingLocales.en,k,i,g.data()),h=new l(this,e),g.data("rating",h)),"string"==typeof b&&d.push(h[b].apply(h,c))}),d.length){case 0:return this;case 1:return d[0];default:return d}},a.fn.rating.defaults={language:"en",stars:5,glyphicon:!0,symbol:null,ratingClass:"",disabled:!1,readonly:!1,rtl:!1,size:"md",showClear:!0,showCaption:!0,starCaptionClasses:{.5:"label label-danger",1:"label label-danger",1.5:"label label-warning",2:"label label-warning",2.5:"label label-info",3:"label label-info",3.5:"label label-primary",4:"label label-primary",4.5:"label label-success",5:"label label-success"},clearButton:'<i class="glyphicon glyphicon-minus-sign"></i>',clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaptionClass:"label label-default",clearValue:null,captionElement:null,clearElement:null,containerClass:null,hoverEnabled:!0,hoverChangeCaption:!0,hoverChangeStars:!0,hoverOnClear:!0},a.fn.ratingLocales.en={defaultCaption:"{rating} Stars",starCaptions:{.5:"Half Star",1:"One Star",1.5:"One & Half Star",2:"Two Stars",2.5:"Two & Half Stars",3:"Three Stars",3.5:"Three & Half Stars",4:"Four Stars",4.5:"Four & Half Stars",5:"Five Stars"},clearButtonTitle:"Clear",clearCaption:"Not Rated"},a.fn.rating.Constructor=l,a(document).ready(function(){var b=a("input.rating");b.length&&b.removeClass("rating-loading").addClass("rating-loading").rating({glyphicon:!1,showClear:!1})})})});
//# sourceMappingURL=_starRating.min.map